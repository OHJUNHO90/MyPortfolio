DECLARE

	CURSOR C1 
	IS 
	SELECT 
	PROC_W, 
	POS_X,
	PROC_CD 
	FROM TB_BI_PROC;	
	
	V_ROWTYPE C1 %ROWTYPE;
	 
BEGIN

	OPEN C1;
	
	LOOP
		FETCH C1 INTO V_ROWTYPE;	
		EXIT WHEN C1 %NOTFOUND;
		
		UPDATE TB_BI_PROC 
		SET PROC_W = V_ROWTYPE.PROC_W - 2,
		      POS_X = V_ROWTYPE.POS_X - 1
		WHERE PROC_CD = V_ROWTYPE.PROC_CD
		AND NOT PROC_NM IN ('Yard', 'ADJUST POSITION')
		AND NOT PROC_NM LIKE 'WISP%';
		
	END LOOP;
	
	CLOSE C1;

END;